<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CAFE Finder</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .page { display: none; }
    .page.active { display: block; }
    .btn { @apply px-4 py-2 rounded-md font-semibold; }
    .btn-primary { @apply bg-yellow-700 text-white hover:bg-yellow-800; }
    .btn-secondary { @apply bg-white text-yellow-700 border border-yellow-700 hover:bg-yellow-100; }
    .card { @apply p-4 rounded-lg bg-white shadow mb-3; }
  </style>
</head>
<body class="bg-yellow-50 text-yellow-900 font-sans">

  <!-- NAVBAR -->
  <header class="bg-white shadow p-4 flex justify-between items-center">
    <div class="font-bold text-xl">CAFE Finder</div>
    <nav class="space-x-4">
      <button onclick="showPage('home')" class="btn btn-secondary">Home</button>
      <button onclick="showPage('dashboard')" class="btn btn-secondary">Dashboard</button>
      <button onclick="showPage('login')" class="btn btn-secondary">Login</button>
    </nav>
  </header>

  <main class="max-w-2xl mx-auto p-4">

    <!-- HOME PAGE -->
    <section id="home" class="page active">
      <h2 class="text-2xl font-bold mb-3">Discover cozy cafés</h2>
      <p class="mb-4">Browse hand-picked cafés, read descriptions, and save your favorites.</p>
      <div class="flex mb-6">
        <input id="searchHome" class="flex-1 p-2 rounded-l-md border border-yellow-700" placeholder="Search cafés..." />
        <button onclick="alert('Search: ' + document.getElementById('searchHome').value)" class="btn btn-primary rounded-r-md">Search</button>
      </div>

      <h3 class="text-xl font-bold mb-2">Popular Cafés</h3>
      <div id="cardsGrid"></div>
    </section>

    <!-- DASHBOARD PAGE -->
    <section id="dashboard" class="page">
      <h2 class="text-2xl font-bold mb-3">Cafés Near You</h2>
      <div class="mb-4">
        <input id="qArea" class="p-2 rounded-l-md border border-yellow-700" placeholder="Filter by area..." />
        <button onclick="filterList()" class="btn btn-primary rounded-r-md">Filter</button>
      </div>
      <div id="listArea"></div>
    </section>

    <!-- LOGIN PAGE -->
    <section id="login" class="page">
      <h2 class="text-2xl font-bold mb-3">Sign In</h2>
      <form id="loginForm" onsubmit="handleLogin(event)" class="space-y-3">
        <input id="loginEmail" type="email" placeholder="Email" required class="w-full p-2 rounded-md border border-yellow-700" />
        <input id="loginPass" type="password" placeholder="Password" required class="w-full p-2 rounded-md border border-yellow-700" />
        <button type="submit" class="btn btn-primary w-full">Sign In</button>
      </form>
    </section>

  </main>

  <script>
    const cafes = [
      { name: "Brew & Co.", desc: "Specialty pour-overs.", area: "downtown" },
      { name: "Latte Lounge", desc: "Artisan lattes.", area: "seaside" },
      { name: "Roast House", desc: "House-roasted beans.", area: "uptown" },
    ];

    function showPage(id) {
      document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
      document.getElementById(id).classList.add('active');
    }

    function filterList() {
      const area = document.getElementById('qArea').value.trim().toLowerCase();
      document.querySelectorAll('#listArea .card').forEach(c => {
        c.style.display = !area || c.dataset.area.includes(area) ? '' : 'none';
      });
    }

    function handleLogin(e) {
      e.preventDefault();
      alert('Signed in as ' + document.getElementById('loginEmail').value);
      showPage('dashboard');
    }

    function renderCards() {
      const cardsGrid = document.getElementById('cardsGrid');
      const listArea = document.getElementById('listArea');
      cafes.forEach(cafe => {
        // Cards for Home
        const card = document.createElement('div');
        card.className = 'card';
        card.innerHTML = `<strong>${cafe.name}</strong><p>${cafe.desc}</p><button class="btn btn-secondary mt-2" onclick="alert('View details (demo)')">View</button>`;
        cardsGrid.appendChild(card);

        // List items for Dashboard
        const listItem = document.createElement('div');
        listItem.className = 'card';
        listItem.dataset.area = cafe.area;
        listItem.innerHTML = `<strong>${cafe.name}</strong><p>${cafe.desc}</p><button class="btn btn-secondary mt-2">Save</button>`;
        listArea.appendChild(listItem);

        // Save button click
        listItem.querySelector('button').addEventListener('click', function() {
          this.innerText = 'Saved'; this.disabled = true; this.classList.add('opacity-70');
        });
      });
    }

    renderCards();
  </script>
</body>
</html>
